{"ast":null,"code":"import { ADD_TO_CART, DELETE_ITEM_FROM_CARD } from '../actions/types'; // []\n\nconst cartReducer = (state, action) => {\n  //initialize our state \n  if (state === undefined) {\n    state = {\n      cartItems: [],\n      //[{}]\n      numberOfItems: 0,\n      totalCost: parseFloat(0.00)\n    };\n  }\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      let newCartItems = [...state.cartItems]; //copying whatever is in state \n\n      let isFound = false; //if they have added item before\n\n      newCartItems.forEach(product => {\n        if (product.id === action.product.id) {\n          product.quantity++;\n          isFound = true;\n        }\n      }); //they added the dress for the first time\n\n      if (!isFound) {\n        newCartItems.push({ ...action.product,\n          quantity: 1\n        });\n      }\n\n      return { ...state,\n        cartItems: newCartItems,\n        numberOfItems: state.numberOfItems + 1,\n        totalCost: state.totalCost + parseFloat(action.product.price)\n      };\n\n    case DELETE_ITEM_FROM_CARD:\n      let deleteThingsInCart = [...state.cartItems];\n      let moreThanOneItem = false;\n      deleteThingsInCart.forEach(item => {\n        if (item.id === action.product.id && item.quantity >= 1) {\n          moreThanOneItem = true;\n          item.quantity--;\n        }\n      });\n\n      if (!moreThanOneItem) {\n        const indexOfObject = deleteThingsInCart.findIndex(object => {\n          return object.id === action.product.id;\n        });\n        deleteThingsInCart.splice(indexOfObject, 1);\n      }\n\n      return { ...state,\n        cartItems: deleteThingsInCart,\n        numberOfItems: state.numberOfItems - 1,\n        totalCost: state.totalCost - parseFloat(action.product.price)\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/veronica.t/Desktop/julyRepo/web-ft-07-2022/lectures/week13/1-Monday/MY-LectureNotes/hw-redux-shopping-cart/src/reducers/cartReducer.js"],"names":["ADD_TO_CART","DELETE_ITEM_FROM_CARD","cartReducer","state","action","undefined","cartItems","numberOfItems","totalCost","parseFloat","type","newCartItems","isFound","forEach","product","id","quantity","push","price","deleteThingsInCart","moreThanOneItem","item","indexOfObject","findIndex","object","splice"],"mappings":"AACA,SAASA,WAAT,EAAsBC,qBAAtB,QAAmD,kBAAnD,C,CACA;;AACA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAEnC;AAEA,MAAID,KAAK,KAAKE,SAAd,EAAyB;AACrBF,IAAAA,KAAK,GAAG;AACJG,MAAAA,SAAS,EAAE,EADP;AACY;AAChBC,MAAAA,aAAa,EAAE,CAFX;AAGJC,MAAAA,SAAS,EAAEC,UAAU,CAAC,IAAD;AAHjB,KAAR;AAKH;;AAED,UAAQL,MAAM,CAACM,IAAf;AAEI,SAAKV,WAAL;AAEI,UAAIW,YAAY,GAAG,CAAC,GAAGR,KAAK,CAACG,SAAV,CAAnB,CAFJ,CAE4C;;AACxC,UAAIM,OAAO,GAAG,KAAd,CAHJ,CAII;;AACAD,MAAAA,YAAY,CAACE,OAAb,CAAqBC,OAAO,IAAI;AAC5B,YAAIA,OAAO,CAACC,EAAR,KAAeX,MAAM,CAACU,OAAP,CAAeC,EAAlC,EAAsC;AAClCD,UAAAA,OAAO,CAACE,QAAR;AACAJ,UAAAA,OAAO,GAAG,IAAV;AACH;AACJ,OALD,EALJ,CAWI;;AACA,UAAI,CAACA,OAAL,EAAc;AACVD,QAAAA,YAAY,CAACM,IAAb,CAAkB,EAAE,GAAGb,MAAM,CAACU,OAAZ;AAAqBE,UAAAA,QAAQ,EAAE;AAA/B,SAAlB;AACH;;AACD,aAAO,EACH,GAAGb,KADA;AAEHG,QAAAA,SAAS,EAAEK,YAFR;AAGHJ,QAAAA,aAAa,EAAEJ,KAAK,CAACI,aAAN,GAAsB,CAHlC;AAIHC,QAAAA,SAAS,EAAEL,KAAK,CAACK,SAAN,GAAkBC,UAAU,CAACL,MAAM,CAACU,OAAP,CAAeI,KAAhB;AAJpC,OAAP;;AAOJ,SAAKjB,qBAAL;AAEI,UAAIkB,kBAAkB,GAAG,CAAC,GAAGhB,KAAK,CAACG,SAAV,CAAzB;AACA,UAAIc,eAAe,GAAG,KAAtB;AAEAD,MAAAA,kBAAkB,CAACN,OAAnB,CAA2BQ,IAAI,IAAI;AAC/B,YAAIA,IAAI,CAACN,EAAL,KAAYX,MAAM,CAACU,OAAP,CAAeC,EAA3B,IAAiCM,IAAI,CAACL,QAAL,IAAiB,CAAtD,EAAyD;AACrDI,UAAAA,eAAe,GAAG,IAAlB;AACAC,UAAAA,IAAI,CAACL,QAAL;AACH;AACJ,OALD;;AAMA,UAAI,CAACI,eAAL,EAAsB;AAClB,cAAME,aAAa,GAAGH,kBAAkB,CAACI,SAAnB,CAA6BC,MAAM,IAAI;AACzD,iBAAOA,MAAM,CAACT,EAAP,KAAcX,MAAM,CAACU,OAAP,CAAeC,EAApC;AACH,SAFqB,CAAtB;AAIAI,QAAAA,kBAAkB,CAACM,MAAnB,CAA0BH,aAA1B,EAAyC,CAAzC;AACH;;AAED,aAAO,EACH,GAAGnB,KADA;AAEHG,QAAAA,SAAS,EAAEa,kBAFR;AAGHZ,QAAAA,aAAa,EAAEJ,KAAK,CAACI,aAAN,GAAsB,CAHlC;AAIHC,QAAAA,SAAS,EAAEL,KAAK,CAACK,SAAN,GAAkBC,UAAU,CAACL,MAAM,CAACU,OAAP,CAAeI,KAAhB;AAJpC,OAAP;;AAOJ;AACI,aAAOf,KAAP;AAnDR;AAqDH,CAjED;;AAoEA,eAAeD,WAAf","sourcesContent":["\nimport { ADD_TO_CART, DELETE_ITEM_FROM_CARD } from '../actions/types'\n// []\nconst cartReducer = (state, action) => {\n\n    //initialize our state \n\n    if (state === undefined) {\n        state = {\n            cartItems: [],  //[{}]\n            numberOfItems: 0,\n            totalCost: parseFloat(0.00)\n        }\n    }\n\n    switch (action.type) {\n\n        case ADD_TO_CART:\n\n            let newCartItems = [...state.cartItems] //copying whatever is in state \n            let isFound = false;\n            //if they have added item before\n            newCartItems.forEach(product => {\n                if (product.id === action.product.id) {\n                    product.quantity++;\n                    isFound = true;\n                }\n            })\n            //they added the dress for the first time\n            if (!isFound) {\n                newCartItems.push({ ...action.product, quantity: 1 })\n            }\n            return {\n                ...state,\n                cartItems: newCartItems,\n                numberOfItems: state.numberOfItems + 1,\n                totalCost: state.totalCost + parseFloat(action.product.price)\n\n            }\n        case DELETE_ITEM_FROM_CARD:\n\n            let deleteThingsInCart = [...state.cartItems]\n            let moreThanOneItem = false\n\n            deleteThingsInCart.forEach(item => {\n                if (item.id === action.product.id && item.quantity >= 1) {\n                    moreThanOneItem = true\n                    item.quantity--\n                }\n            })\n            if (!moreThanOneItem) {\n                const indexOfObject = deleteThingsInCart.findIndex(object => {\n                    return object.id === action.product.id;\n                })\n\n                deleteThingsInCart.splice(indexOfObject, 1)\n            }\n\n            return {\n                ...state,\n                cartItems: deleteThingsInCart,\n                numberOfItems: state.numberOfItems - 1,\n                totalCost: state.totalCost - parseFloat(action.product.price)\n            }\n\n        default:\n            return state\n    }\n}\n\n\nexport default cartReducer"]},"metadata":{},"sourceType":"module"}